<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:EcoBank.App.ViewModels.Profile"
             xmlns:shad="clr-namespace:ShadUI;assembly=ShadUI"
             x:Class="EcoBank.App.Views.Profile.ProfileView"
             x:DataType="vm:ProfileViewModel">

  <ScrollViewer>
    <StackPanel Margin="16" Spacing="16">
      <TextBlock Text="Profil" FontSize="22" FontWeight="SemiBold"/>

      <!-- User info card -->
      <shad:Card>
        <StackPanel Spacing="8">
          <shad:Avatar Fallback="ðŸ‘¤" HorizontalAlignment="Center"/>
          <TextBlock Text="{Binding UserDisplayName}"
                     FontSize="18"
                     FontWeight="SemiBold"
                     HorizontalAlignment="Center"/>
          <TextBlock Text="{Binding CurrentUser.Email}"
                     Foreground="{DynamicResource MutedColor}"
                     HorizontalAlignment="Center"
                     IsVisible="{Binding CurrentUser.Email, Converter={x:Static StringConverters.IsNotNullOrEmpty}}"/>
          <shad:Badge Content="{Binding CurrentUser.KycStatus}"
                      HorizontalAlignment="Center"/>
        </StackPanel>
      </shad:Card>

      <!-- Preferences -->
      <shad:Card>
        <StackPanel Spacing="12">
          <TextBlock Text="PrÃ©fÃ©rences" FontSize="16" FontWeight="SemiBold"/>
          <StackPanel Orientation="Horizontal" Spacing="12">
            <TextBlock Text="Mode sombre" VerticalAlignment="Center" FontSize="14"/>
            <ToggleSwitch IsChecked="{Binding DarkModeEnabled}" Margin="0"/>
          </StackPanel>
          <StackPanel Orientation="Horizontal" Spacing="12">
            <TextBlock Text="Langue" VerticalAlignment="Center" FontSize="14"/>
            <ComboBox SelectedItem="{Binding SelectedLanguage}">
              <ComboBoxItem>fr</ComboBoxItem>
              <ComboBoxItem>en</ComboBoxItem>
            </ComboBox>
          </StackPanel>
        </StackPanel>
      </shad:Card>

      <!-- Actions -->
      <Button Classes="Danger"
              Content="Se dÃ©connecter"
              Command="{Binding ResetSessionCommand}"
              HorizontalAlignment="Stretch"/>
    </StackPanel>
  </ScrollViewer>
</UserControl>
