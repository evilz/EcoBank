<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="using:EcoBank.App.ViewModels.Operations"
             xmlns:domain="using:EcoBank.Core.Domain.Operations"
             xmlns:shad="clr-namespace:ShadUI;assembly=ShadUI"
             x:Class="EcoBank.App.Views.Operations.OperationsView"
             x:DataType="vm:OperationsViewModel">

  <DockPanel>
    <Border DockPanel.Dock="Top" Padding="16,12">
      <TextBlock Text="OpÃ©rations" FontSize="22" FontWeight="SemiBold"/>
    </Border>

    <Border DockPanel.Dock="Top" Padding="16,4">
      <TextBox Text="{Binding SearchQuery}"
               Watermark="ðŸ”  Rechercher..."
               AutomationProperties.Name="Recherche opÃ©rations"/>
    </Border>

    <shad:Loading DockPanel.Dock="Top" IsVisible="{Binding IsBusy}"/>

    <ScrollViewer>
      <StackPanel Margin="16" Spacing="8">
        <ItemsControl ItemsSource="{Binding Operations}">
          <ItemsControl.ItemTemplate>
            <DataTemplate x:DataType="domain:Operation">
              <shad:Card Margin="0,0,0,4">
                <Grid ColumnDefinitions="*,Auto" RowDefinitions="Auto,Auto">
                  <shad:CardTitle Grid.Row="0" Grid.Column="0"
                                  Content="{Binding Label}"/>
                  <shad:CardDescription Grid.Row="1" Grid.Column="0">
                    <shad:CardDescription.Content>
                      <MultiBinding StringFormat="{}{0:dd/MM/yyyy} Â· {1}">
                        <Binding Path="Date"/>
                        <Binding Path="Status"/>
                      </MultiBinding>
                    </shad:CardDescription.Content>
                  </shad:CardDescription>
                  <TextBlock Grid.Row="0" Grid.Column="1" Grid.RowSpan="2"
                             FontSize="15"
                             FontWeight="SemiBold"
                             VerticalAlignment="Center"
                             Margin="8,0,0,0">
                    <TextBlock.Text>
                      <MultiBinding StringFormat="{}{0:+0.00;-0.00} {1}">
                        <Binding Path="Amount"/>
                        <Binding Path="Currency"/>
                      </MultiBinding>
                    </TextBlock.Text>
                  </TextBlock>
                </Grid>
              </shad:Card>
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
      </StackPanel>
    </ScrollViewer>
  </DockPanel>
</UserControl>
